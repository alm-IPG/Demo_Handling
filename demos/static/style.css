body { font-family: system-ui, sans-serif; margin: 0; background: #0b0c0f; color: #e8eaed; }
.topbar { display: flex; gap: 1rem; align-items: center; padding: 12px 20px; background: #111318; border-bottom: 1px solid #23262d; }
.logo { color: #e8eaed; text-decoration: none; font-weight: 700; }
.search input { padding: 6px 8px; border-radius: 6px; border: 1px solid #333842; background: #151820; color: #e8eaed; }
.search button { margin-left: 8px; padding: 6px 12px; border-radius: 6px; border: 0; background: #3557ff; color: white; cursor: pointer; }
.container { padding: 24px; }
.filters { margin-bottom: 16px; }

/* Gallery grid: stretch items so cards can fill full height */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 16px;
  align-items: stretch;               /* NEW */
}

/* Card becomes a column flexbox that fills its grid cell */
.card {
  display: flex;                      /* CHANGED: was display:block */
  flex-direction: column;             /* NEW */
  height: 100%;                       /* NEW: fill grid row height */
  border: 1px solid #23262d;
  border-radius: 12px;
  overflow: hidden;
  text-decoration: none;
  color: inherit;
  background: #111318;
}

/* Fixed thumbnail height stays the same */
.card img { width: 100%; height: 160px; object-fit: cover; background: #0f1116; }
.thumb-placeholder { height: 160px; display: grid; place-items: center; background: #0f1116; color: #8b93a1; }

/* Card body becomes a flex column so we can pin tags to bottom */
.card-body {
  display: flex;                      /* NEW */
  flex-direction: column;             /* NEW */
  padding: 12px;
  flex: 1 1 auto;                     /* NEW: grow to fill remaining height */
}

.card h3 { margin: 0 0 6px; font-size: 1.1rem; }

/* 4-line clamp with ellipsis */
.summary {
  color: #aab2c0;
  display: -webkit-box;               /* NEW */
  -webkit-line-clamp: 4;              /* NEW: show max 4 lines */
  -webkit-box-orient: vertical;       /* NEW */
  overflow: hidden;                   /* NEW */
  min-height: calc(1em * 1.4 * 4);    /* NEW: reserve space for ~4 lines */
}

/* The meta row sits at the bottom of the card body */
.meta {
  margin-top: auto;                   /* NEW: push to bottom */
  display: flex;
  justify-content: flex-start;        /* CHANGED: tags donâ€™t spread apart */
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}

/* Optional container for tags */
.meta .tags { display: flex; gap: 6px; flex-wrap: wrap; }

/* Pills */
.tag, .cm { font-size: 12px; padding: 2px 6px; border-radius: 999px; background: #1a2130; border: 1px solid #293244; color: #c9d1e0; }

.detail-header {
  display: grid;
  grid-template-columns: 320px 1fr 280px; /* thumb | main | info */
  gap: 20px;
  align-items: start;
}
.hero { width: 100%; border-radius: 12px; border: 1px solid #23262d; }
.btn { display: inline-block; margin-top: 8px; padding: 8px 12px; background: #3557ff; color: white; text-decoration: none; border-radius: 8px; }
.files { width: 100%; border-collapse: collapse; margin-top: 8px; }
.files th, .files td { border-bottom: 1px solid #23262d; padding: 8px; }
.files td.size, .files th.size { text-align: right; width: 120px; }
.highlights { list-style: none; padding-left: 0; }
.highlights li { border: 1px dashed #2a3240; border-radius: 8px; padding: 8px 10px; margin-bottom: 8px; }
.highlights code { color: #d7e3ff; }
.desc { color: #aab2c0; margin-top: 4px; }
.dir { margin-left: 8px; }
.dir > summary { cursor: pointer; list-style: none; padding: 4px 0; }
.dir > summary::-webkit-details-marker { display: none; }
.dir .folder { font-weight: 600; }
.dir .muted { color: #8b93a1; margin-left: 6px; font-size: 12px; }
.dir-children { margin-left: 16px; border-left: 1px dashed #2a3240; padding-left: 10px; }
.file { display: flex; justify-content: space-between; gap: 12px; padding: 2px 0; }
.file code { color: #d7e3ff; overflow-wrap: anywhere; }
.file .size { color: #aab2c0; min-width: 80px; text-align: right; }
.actions form { display: inline; }
.actions .btn { margin-left: 6px; }

/* right-side panel */
.info-panel {
  border: 1px solid #23262d;
  background: #111318;
  border-radius: 12px;
  padding: 12px;
}
.info-panel h3 { margin: 0 0 8px; font-size: 1rem; }
.kv { display: grid; grid-template-columns: 90px 1fr; row-gap: 6px; column-gap: 10px; margin: 0; }
.kv dt { color: #8b93a1; }
.kv dd { margin: 0; }

/* pill styles (state badge) */
.pill { display: inline-block; padding: 2px 8px; border-radius: 999px; border: 1px solid #293244; background: #1a2130; font-size: 12px; }
.pill.state.ready { border-color: #1f4f2c; background: #12391a; color: #b1f0c3; }
.pill.state.in-progress { border-color: #5a4a1e; background: #2b250f; color: #f3dea3; }
.pill.state.to-be-updated { border-color: #6b2a2a; background: #3a1414; color: #f1b4b4; }

/* optional hero placeholder */
.hero.placeholder { width: 100%; height: 180px; border-radius: 12px; border: 1px solid #23262d; background:#0f1116; }

@media (max-width: 1100px) {
  .detail-header {
    grid-template-columns: 320px 1fr;
  }
  .info-panel {
    grid-column: 1 / -1; /* full width below */
  }
}

.comments { margin-top: 24px; }
.comment-list { list-style: none; padding: 0; margin: 0 0 16px; }
.comment-list li { border: 1px solid #23262d; border-radius: 8px; padding: 8px 10px; margin-bottom: 8px; background:#111318; }
.comment-list .meta { font-size: 12px; color:#8b93a1; margin-bottom:4px; }
.comment-list .text { white-space: pre-wrap; }
.comment-form textarea { width:100%; padding:6px 8px; border-radius:6px; border:1px solid #333842; background:#151820; color:#e8eaed; }
.comment-form button { margin-top:6px; }

.muted { color: #8b93a1; }
